cat << EOF > ~/.ssh/config
Host *
  ControlMaster auto
  ControlPath ~/.ssh/master-%L-%r@%h:%p
  ControlPersist yes
EOF

git clone https://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh
cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc
sed -i -r -e '/^#plugins=/s/^#//' -e '/^plugins=/s/\)$/ bundler\)/' ~/.zshrc
sed -i -e '/^ZSH_THEME=/s/robbyrussell/gentoo/' ~/.zshrc
echo "alias sudo='sudo -E'" > ~/.oh-my-zsh/custom/aliases.zsh
echo "alias l='ls -lA'" >> ~/.oh-my-zsh/custom/aliases.zsh
echo "bindkey '^U' backward-kill-line" > ~/.oh-my-zsh/custom/key-bindings.zsh
echo "setopt noautomenu" > ~/.oh-my-zsh/custom/completion.zsh

echo -e "\n# One editor for all cases\nexport EDITOR=vim" >> ~/.zshrc

cat << EOF >> ~/.zshrc

# Arch Linux way to manage gems
export GEM_HOME=\$(ruby -rubygems -e "puts Gem.user_dir")
export PATH=\$GEM_HOME/bin:\$PATH
EOF

cp /tmp/setup/files/tmux.conf ~/.tmux.conf

git config --global user.name 'Igor Vinokurov'
git config --global user.email zynaps@zynaps.ru
git config --global color.ui auto
curl -L https://www.gitignore.io/api/vim -o ~/.gitignore
git config --global core.excludesfile ~/.gitignore
git config --global push.default simple

mkdir -p ~/.vim/{autoload,bundle}
curl -L https://tpo.pe/pathogen.vim -o ~/.vim/autoload/pathogen.vim
cd ~/.vim/bundle
git clone https://github.com/tpope/vim-surround.git
git clone https://github.com/tpope/vim-repeat.git
git clone https://github.com/kana/vim-smartinput.git
git clone https://github.com/ervandew/supertab.git
git clone https://github.com/tpope/vim-commentary.git
git clone https://github.com/kien/ctrlp.vim.git
git clone https://github.com/tomtom/tlib_vim.git
git clone https://github.com/MarcWeber/vim-addon-mw-utils.git
git clone https://github.com/garbas/vim-snipmate.git
git clone https://github.com/honza/vim-snippets.git
git clone https://github.com/now/vim-restore-position.git
git clone https://github.com/bronson/vim-trailing-whitespace.git
git clone https://github.com/pangloss/vim-javascript.git
git clone https://github.com/vim-ruby/vim-ruby.git
git clone https://github.com/tpope/vim-git.git
git clone https://github.com/tpope/vim-bundler.git
git clone https://github.com/tpope/vim-rake.git
git clone https://github.com/tpope/vim-rails.git
git clone https://github.com/chriskempson/base16-vim.git
cp /tmp/setup/files/vimrc ~/.vimrc
vim -c 'call pathogen#helptags()|quit'
